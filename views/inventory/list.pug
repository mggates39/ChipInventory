extends ../layout

block navigation
  nav.navbar.navbar-expand-lg.navbar-dark.bg-dark.fixed-top
    div.container-fluid
      a.navbar-brand(href="/") My Lab
      button.navbar-toggler(type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation")
        span.navbar-toggler-icon
      div#navbarNav.collapse.navbar-collapse
        ul.navbar-nav.me-auto.mb-2.mb-lg-0
          li.nav-item
            a.nav-link(href='/chips') Chip Master File 
          li.nav-item
            a.nav-link.active(href='/inventory') Chip Inventory 
          li.nav-item
            a.nav-link(href='/projects') My Projects 
          li.nav-item.dropdown
            a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false") Settings
            ul.dropdown-menu
              li
                a.dropdown-item(href="/manufacturers") Manufacturers
              li
                a.dropdown-item(href="/component_types") Component Types
              li
                hr.dropdown-divider
              li
                a.dropdown-item(href="#") Something else here

block content
  p This is a searchable list of all the chip inventory.
  div.searchdiv
  form.searchbox()
    INPUT(type="search" placeholder="Search" aria-label="Search" NAME="q" VALUE=searched SIZE="20" MAXLENGTH="32")
    div.form-check.form-check-inline
      INPUT.form-check-input(TYPE="radio" NAME="w" VALUE="p" id="part" checked=part_search) 
      label.form-check-label(for="part") Part number
    div.form-check.form-check-inline
      INPUT.form-check-input(TYPE="radio" NAME="w" VALUE="k" id="keyword" checked=key_search) 
      label.form-check-label(for="keyword") Keyword
    INPUT.btn.btn-primary.mb-3(TYPE="submit" VALUE="Search")
  

  table.table.table-striped
    tr
      th Base
      th Number
      th Manufacturer
      th Quantity
      th Description

    each n in inventory
      tr
        td 
          a(href="/chips/"+n.chip_id target='_blank') #{n.chip_number}
        td
          a(href="/inventory/"+n.id) #{n.full_number}
        td= n.mfg_code+' ('+n.name+')'
        td= n.quantity
        td= n.description

    if inventory.length == 0
      tr
        td(span=5) No inventory found &nbsp;
  
  a.btn.btn-primary(href="/inventory/inventorynew/", role="button") New Inventory